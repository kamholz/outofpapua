CREATE OR REPLACE VIEW entry_ph AS
SELECT
  entry.id,
  ph.headword_ph
FROM entry
LEFT JOIN LATERAL (
  SELECT extract_ph.headword_ph
  FROM record, LATERAL extract_ph(record.data) extract_ph(headword, headword_ph)
  WHERE record.id = entry.record_id
) ph ON true;